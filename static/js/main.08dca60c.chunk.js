(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{39:function(e,t,s){},40:function(e,t,s){},41:function(e,t,s){},44:function(e,t,s){},57:function(e,t,s){},58:function(e,t,s){},59:function(e,t,s){"use strict";s.r(t);var c=s(0),n=s.n(c),a=s(12),r=s.n(a),o=s(8),l=s(13),i=(s(39),s(2)),u=(s(40),s(41),s(1)),b=function(){return Object(u.jsx)("div",{className:"NotFound",children:"This page is not found"})},j=s(6),d=s(16),h=localStorage.getItem("posts"),O=[];null!==h&&(O=JSON.parse(h));var m={users:[],posts:[],albums:[],chosenPosts:O,chosenAlbums:[]},f=Object(d.b)({name:"userInfo",initialState:m,reducers:{setUsersInfo:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{users:t.payload})},setPostsInfo:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{posts:t.payload})},setAlbumsInfo:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{albums:t.payload})},setChosenPosts:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{chosenPosts:t.payload})},setChosenAlbums:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{chosenAlbums:t.payload})}}}),p=function(e){return e.users},x=function(e){return e.posts},_=function(e){return e.albums},N=function(e){return e.chosenPosts},I=f.actions,y=I.setUsersInfo,U=I.setPostsInfo,v=I.setAlbumsInfo,g=I.setChosenPosts,k=(I.setChosenAlbums,f.reducer),P=(s(44),function(){var e=Object(o.c)(N),t=Object(i.f)(),s=Object(c.useCallback)((function(){t("/")}),[]);return Object(u.jsxs)("div",{className:"Posts",children:[Object(u.jsx)("button",{type:"button",title:"Return to the list of users",className:"Posts__returnUsers",onClick:s,children:"Return to the list of users"}),Object(u.jsx)("ul",{className:"Posts__list",children:e.map((function(e){return Object(u.jsxs)("li",{className:"Posts__item",children:[Object(u.jsx)("p",{className:"Posts__id",children:"ID - ".concat(e.id)}),Object(u.jsx)("p",{className:"Posts__title",children:e.title}),Object(u.jsx)("p",{className:"Posts__text",children:e.body})]},e.id)}))})]})}),C=s(11),S=s.n(C),w=s(17),A=s(5),T=function(){var e=Object(w.a)(S.a.mark((function e(t){var s,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://jsonplaceholder.typicode.com/").concat(t),{method:"GET"});case 2:return s=e.sent,e.next=5,s.json().catch((function(e){throw Error("".concat(e))}));case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=s(23),E=s.n(M),J=(s(57),{overlay:{backgroundColor:"grey"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",padding:"10px 80px"}});E.a.setAppElement("#root");var R=function(){var e=Object(o.c)(p),t=Object(o.c)(x),s=Object(o.c)(_),n=Object(i.f)(),a=Object(o.b)(),r=Object(c.useState)(!1),l=Object(A.a)(r,2),b=l[0],j=l[1],d=Object(c.useState)([]),h=Object(A.a)(d,2),O=h[0],m=h[1],f=Object(c.useState)(""),N=Object(A.a)(f,2),I=N[0],y=N[1],U=Object(c.useCallback)((function(e){var s=t.filter((function(t){return t.userId===e}));a(g(s)),localStorage.setItem("posts",JSON.stringify(s)),n("/".concat(e))}),[t]),v=Object(c.useCallback)((function(t){var c=s.filter((function(e){return e.userId===t})),n=e.find((function(e){return e.id===t}));n&&y(n.name),j(!0),localStorage.setItem("albums",JSON.stringify(c)),m(c)}),[s,b]),k=Object(c.useCallback)((function(){j(!1)}),[b]);return Object(u.jsxs)(u.Fragment,{children:[e.map((function(e){return Object(u.jsxs)("tr",{className:"UsersTable__row",children:[Object(u.jsx)("td",{className:"UsersTable__text",children:e.id}),Object(u.jsx)("td",{className:"UsersTable__text",children:e.name}),Object(u.jsx)("td",{className:"UsersTable__text",children:e.username}),Object(u.jsx)("td",{className:"UsersTable__text",children:Object(u.jsx)("button",{type:"button",title:"show the posts of the user",className:"UsersTable__posts-albums",onClick:function(){return U(e.id)},children:"posts"})}),Object(u.jsx)("td",{className:"UsersTable__text",children:Object(u.jsx)("button",{type:"button",title:"show the Albums of the user",className:"UsersTable__posts-albums",onClick:function(){return v(e.id)},children:"albums"})})]},e.id)})),Object(u.jsx)(E.a,{isOpen:b,onRequestClose:k,style:J,contentLabel:"Example Modal",children:Object(u.jsxs)("div",{className:"Modal",children:[Object(u.jsx)("button",{type:"button",title:"close the popup",className:"Modal__button",onClick:k,children:"X"}),Object(u.jsx)("h1",{className:"Modal__title",children:"Albums of the user ".concat(I)}),Object(u.jsx)("ul",{className:"Modal__list",children:O.map((function(e){return Object(u.jsxs)("li",{className:"Modal__item",children:[Object(u.jsx)("p",{className:"Modal__album-id",children:"ID - ".concat(e.id)}),Object(u.jsx)("p",{className:"Modal__album-title",children:e.title})]},e.id)}))})]})})]})},D=(s(58),function(){var e=Object(c.useState)(""),t=Object(A.a)(e,2),s=t[0],n=t[1],a=Object(o.b)();return Object(c.useEffect)((function(){function e(){return(e=Object(w.a)(S.a.mark((function e(){var t,s,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T("users");case 3:return t=e.sent,e.next=6,T("posts");case 6:return s=e.sent,e.next=9,T("albums");case 9:c=e.sent,a(y(t)),a(U(s)),a(v(c)),n(""),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),n("Something went wrong. Reload the page, please.");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(u.jsxs)("div",{className:"UsersInfo",children:[Object(u.jsx)("p",{className:"UsersInfo__textError",children:s}),!s&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("table",{className:"UsersInfo__table",children:[Object(u.jsx)("caption",{className:"UsersInfo__title",children:"Information about users"}),Object(u.jsx)("thead",{className:"UsersInfo__head",children:Object(u.jsxs)("tr",{className:"UsersInfo__head--row",children:[Object(u.jsx)("th",{className:"UsersInfo__head--cell",children:"ID"}),Object(u.jsx)("th",{className:"UsersInfo__head--cell",children:"Name"}),Object(u.jsx)("th",{className:"UsersInfo__head--cell",children:"Surname"}),Object(u.jsx)("th",{className:"UsersInfo__head--cell",children:"Posts of the chosen user"}),Object(u.jsx)("th",{className:"UsersInfo__head--cell",children:"Albums of the chosen user"})]})}),Object(u.jsx)("tbody",{className:"UsersInfo__body",children:Object(u.jsx)(R,{})})]})})]})}),F=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(i.c,{children:[Object(u.jsxs)(i.a,{path:"/",children:[Object(u.jsx)(i.a,{index:!0,element:Object(u.jsx)(D,{})}),Object(u.jsx)(i.a,{path:":userId",element:Object(u.jsx)(P,{})})]}),Object(u.jsx)(i.a,{path:"*",element:Object(u.jsx)(b,{})})]})})},q=Object(d.a)({reducer:k});r.a.render(Object(u.jsx)(o.a,{store:q,children:Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(l.a,{children:Object(u.jsx)(F,{})})})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.08dca60c.chunk.js.map