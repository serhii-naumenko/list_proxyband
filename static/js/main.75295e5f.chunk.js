(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{39:function(e,t,s){},40:function(e,t,s){},41:function(e,t,s){},44:function(e,t,s){},57:function(e,t,s){},58:function(e,t,s){},59:function(e,t,s){},60:function(e,t,s){"use strict";s.r(t);var n=s(0),c=s.n(n),a=s(12),r=s.n(a),o=s(8),l=s(13),i=(s(39),s(2)),u=(s(40),s(41),s(1)),j=function(){return Object(u.jsx)("div",{className:"NotFound",children:"This page is not found"})},b=s(4),d=s(6),h=s(16),m=localStorage.getItem("posts"),O=[];null!==m&&(O=JSON.parse(m));var f=localStorage.getItem("name"),p="";null!==f&&(p=JSON.parse(f));var x={users:[],posts:[],albums:[],chosenPosts:O,chosenName:p},_=Object(h.b)({name:"userInfo",initialState:x,reducers:{setUsersInfo:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{users:t.payload})},setPostsInfo:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{posts:t.payload})},setAlbumsInfo:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{albums:t.payload})},setChosenPosts:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{chosenPosts:t.payload})},setChosenNameStore:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{chosenName:t.payload})}}}),N=function(e){return e.users},I=function(e){return e.posts},v=function(e){return e.albums},y=function(e){return e.chosenPosts},U=function(e){return e.chosenName},C=_.actions,g=C.setUsersInfo,S=C.setPostsInfo,P=C.setAlbumsInfo,k=C.setChosenPosts,w=C.setChosenNameStore,M=_.reducer,T=(s(44),function(){var e=Object(o.c)(y),t=Object(o.c)(U),s=Object(n.useState)(t),c=Object(b.a)(s,2),a=c[0],r=c[1],l=Object(i.f)(),j=Object(n.useCallback)((function(){l("/")}),[]);return Object(n.useEffect)((function(){r(t)}),[a]),Object(u.jsxs)("div",{className:"Posts",children:[Object(u.jsx)("button",{type:"button",title:"Return to the list of users",className:"Posts__returnUsers",onClick:j,children:"Return to the list of users"}),Object(u.jsx)("h1",{className:"Posts__name",children:"Posts of the user ".concat(a)}),Object(u.jsx)("ul",{className:"Posts__list",children:e.map((function(e){return Object(u.jsxs)("li",{className:"Posts__item",children:[Object(u.jsx)("p",{className:"Posts__id",children:"ID - ".concat(e.id)}),Object(u.jsx)("h2",{className:"Posts__title",children:e.title}),Object(u.jsx)("p",{className:"Posts__text",children:e.body})]},e.id)}))})]})}),A=s(11),E=s.n(A),J=s(17),R=function(){var e=Object(J.a)(E.a.mark((function e(t){var s,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://jsonplaceholder.typicode.com/").concat(t),{method:"GET"});case 2:return s=e.sent,e.next=5,s.json().catch((function(e){throw Error("".concat(e))}));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=s(23),F=s.n(D),q=(s(57),function(e){var t=e.chosenAlbums,s=e.chosenName,n=e.modalIsClose;return Object(u.jsxs)("div",{className:"ModalContent",children:[Object(u.jsx)("button",{type:"button",title:"close the popup",className:"Modal__button",onClick:n,children:"X"}),Object(u.jsx)("h1",{className:"ModalContent__title",children:"Albums of the user ".concat(s)}),Object(u.jsx)("ul",{className:"ModalContent__list",children:t.map((function(e){return Object(u.jsx)("li",{className:"ModalContent__item",children:Object(u.jsxs)("div",{className:"ModalContent__container",children:[Object(u.jsx)("p",{className:"ModalContent__album-id",children:"ID - ".concat(e.id)}),Object(u.jsx)("p",{className:"ModalContent__album-title",children:e.title})]})},e.id)}))})]})}),B=(s(58),{overlay:{backgroundColor:"grey"},content:{top:"50px",left:"150px",right:"150px",bottom:"50px",padding:"10px 80px"}});F.a.setAppElement("#root");var G=function(){var e=Object(o.c)(N),t=Object(o.c)(I),s=Object(o.c)(v),c=Object(i.f)(),a=Object(o.b)(),r=Object(n.useState)(!1),l=Object(b.a)(r,2),j=l[0],d=l[1],h=Object(n.useState)([]),m=Object(b.a)(h,2),O=m[0],f=m[1],p=Object(n.useState)(""),x=Object(b.a)(p,2),_=x[0],y=x[1],U=Object(n.useCallback)((function(s){var n=t.filter((function(e){return e.userId===s})),r=e.find((function(e){return e.id===s}));r&&(a(w(r.name)),localStorage.setItem("name",JSON.stringify(r.name))),a(k(n)),localStorage.setItem("posts",JSON.stringify(n)),c("/".concat(s))}),[t]),C=Object(n.useCallback)((function(t){var n=s.filter((function(e){return e.userId===t})),c=e.find((function(e){return e.id===t}));c&&y(c.name),d(!0),f(n)}),[s,j]),g=Object(n.useCallback)((function(){d(!1)}),[j]);return Object(u.jsxs)(u.Fragment,{children:[e.map((function(e){return Object(u.jsxs)("tr",{className:"UsersTable__row",children:[Object(u.jsx)("td",{className:"UsersTable__text",children:e.id}),Object(u.jsx)("td",{className:"UsersTable__text",children:e.name}),Object(u.jsx)("td",{className:"UsersTable__text",children:e.username}),Object(u.jsx)("td",{className:"UsersTable__text",children:Object(u.jsx)("button",{type:"button",title:"show the posts of the user",className:"UsersTable__posts-albums",onClick:function(){return U(e.id)},children:"posts"})}),Object(u.jsx)("td",{className:"UsersTable__text",children:Object(u.jsx)("button",{type:"button",title:"show the Albums of the user",className:"UsersTable__posts-albums",onClick:function(){return C(e.id)},children:"albums"})})]},e.id)})),Object(u.jsx)(F.a,{isOpen:j,onRequestClose:g,style:B,contentLabel:"Example Modal",children:Object(u.jsx)(q,{chosenAlbums:O,chosenName:_,modalIsClose:g})})]})},L=(s(59),function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),s=t[0],c=t[1],a=Object(o.b)();return Object(n.useEffect)((function(){function e(){return(e=Object(J.a)(E.a.mark((function e(){var t,s,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R("users");case 3:return t=e.sent,e.next=6,R("posts");case 6:return s=e.sent,e.next=9,R("albums");case 9:n=e.sent,a(g(t)),a(S(s)),a(P(n)),c(""),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),c("Something went wrong. Reload the page, please.");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(u.jsxs)("div",{className:"UsersInfo",children:[Object(u.jsx)("p",{className:"UsersInfo__textError",children:s}),!s&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("table",{className:"UsersInfo__table",children:[Object(u.jsx)("caption",{className:"UsersInfo__title",children:"Information about users"}),Object(u.jsx)("thead",{className:"UsersInfo__head",children:Object(u.jsxs)("tr",{className:"UsersInfo__head--row",children:[Object(u.jsx)("th",{className:"UsersInfo__head--cell",children:"ID"}),Object(u.jsx)("th",{className:"UsersInfo__head--cell",children:"Name"}),Object(u.jsx)("th",{className:"UsersInfo__head--cell",children:"Username"}),Object(u.jsx)("th",{className:"UsersInfo__head--cell",children:"Posts of the chosen user"}),Object(u.jsx)("th",{className:"UsersInfo__head--cell",children:"Albums of the chosen user"})]})}),Object(u.jsx)("tbody",{className:"UsersInfo__body",children:Object(u.jsx)(G,{})})]})})]})}),X=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(i.c,{children:[Object(u.jsxs)(i.a,{path:"/",children:[Object(u.jsx)(i.a,{index:!0,element:Object(u.jsx)(L,{})}),Object(u.jsx)(i.a,{path:":userId",element:Object(u.jsx)(T,{})})]}),Object(u.jsx)(i.a,{path:"*",element:Object(u.jsx)(j,{})})]})})},z=Object(h.a)({reducer:M});r.a.render(Object(u.jsx)(o.a,{store:z,children:Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(l.a,{children:Object(u.jsx)(X,{})})})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.75295e5f.chunk.js.map