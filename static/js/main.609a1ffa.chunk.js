(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{49:function(e,t,s){},50:function(e,t,s){},51:function(e,t,s){},53:function(e,t,s){},55:function(e,t,s){},70:function(e,t,s){},71:function(e,t,s){},72:function(e,t,s){},73:function(e,t,s){"use strict";s.r(t);var n=s(0),c=s.n(n),a=s(12),r=s.n(a),o=s(8),l=s(17),i=(s(49),s(2)),u=(s(50),s(51),s(1)),j=function(){return Object(u.jsx)("div",{className:"NotFound",children:"This page is not found"})},b=s(4),d=s(7),h=s(19),O=localStorage.getItem("posts"),m=[];null!==O&&(m=JSON.parse(O));var f=localStorage.getItem("name"),p="";null!==f&&(p=JSON.parse(f));var x={users:[],posts:[],albums:[],chosenPosts:m,chosenName:p},_=Object(h.b)({name:"userInfo",initialState:x,reducers:{setUsersInfo:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{users:t.payload})},setPostsInfo:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{posts:t.payload})},setAlbumsInfo:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{albums:t.payload})},setChosenPosts:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{chosenPosts:t.payload})},setChosenNameStore:function(e,t){return Object(d.a)(Object(d.a)({},e),{},{chosenName:t.payload})}}}),N=function(e){return e.users},I=function(e){return e.posts},v=function(e){return e.albums},y=function(e){return e.chosenPosts},C=function(e){return e.chosenName},U=_.actions,g=U.setUsersInfo,S=U.setPostsInfo,k=U.setAlbumsInfo,P=U.setChosenPosts,w=U.setChosenNameStore,M=_.reducer,T=(s(53),function(){var e=Object(o.c)(y),t=Object(o.c)(C),s=Object(n.useState)(t),c=Object(b.a)(s,2),a=c[0],r=c[1],l=Object(i.f)(),j=Object(n.useCallback)((function(){l("/")}),[]);return Object(n.useEffect)((function(){r(t)}),[a]),Object(u.jsxs)("div",{className:"Posts",children:[Object(u.jsx)("button",{type:"button",title:"Return to the list of users",className:"Posts__returnUsers",onClick:j,children:"Return to the list of users"}),Object(u.jsx)("h1",{className:"Posts__name",children:"Posts of the user ".concat(a)}),Object(u.jsx)("ul",{className:"Posts__list",children:e.map((function(e){return Object(u.jsxs)("li",{className:"Posts__item",children:[Object(u.jsx)("p",{className:"Posts__id",children:"ID - ".concat(e.id)}),Object(u.jsx)("h2",{className:"Posts__title",children:e.title}),Object(u.jsx)("p",{className:"Posts__text",children:e.body})]},e.id)}))})]})}),A=s(15),E=s.n(A),J=s(20),L=function(){var e=Object(J.a)(E.a.mark((function e(t){var s,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://jsonplaceholder.typicode.com/").concat(t),{method:"GET"});case 2:return s=e.sent,e.next=5,s.json().catch((function(e){throw Error("".concat(e))}));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=s(76),D=(s(55),function(){return Object(u.jsx)("div",{className:"Loader",children:Object(u.jsx)("div",{className:"Loader__container",children:Object(u.jsx)(R.a,{type:"big",caption:"Loader..."})})})}),F=s(27),q=s.n(F),B=(s(70),function(e){var t=e.chosenAlbums,s=e.chosenName,n=e.modalIsClose;return Object(u.jsxs)("div",{className:"ModalContent",children:[Object(u.jsx)("button",{type:"button",title:"close the popup",className:"ModalContent__button",onClick:n,children:"X"}),Object(u.jsx)("h1",{className:"ModalContent__title",children:"Albums of the user ".concat(s)}),Object(u.jsx)("ul",{className:"ModalContent__list",children:t.map((function(e){return Object(u.jsx)("li",{className:"ModalContent__item",children:Object(u.jsxs)("div",{className:"ModalContent__container",children:[Object(u.jsx)("p",{className:"ModalContent__album-id",children:"ID - ".concat(e.id)}),Object(u.jsx)("p",{className:"ModalContent__album-title",children:e.title})]})},e.id)}))})]})}),G=(s(71),{overlay:{backgroundColor:"grey"},content:{top:"50px",left:"150px",right:"150px",bottom:"50px",padding:"10px 80px"}});q.a.setAppElement("#root");var X=function(){var e=Object(o.c)(N),t=Object(o.c)(I),s=Object(o.c)(v),c=Object(o.b)(),a=Object(n.useState)(!1),r=Object(b.a)(a,2),l=r[0],i=r[1],j=Object(n.useState)([]),d=Object(b.a)(j,2),h=d[0],O=d[1],m=Object(n.useState)(""),f=Object(b.a)(m,2),p=f[0],x=f[1],_=Object(n.useCallback)((function(s){var n=t.filter((function(e){return e.userId===s})),a=e.find((function(e){return e.id===s}));a&&(c(w(a.name)),localStorage.setItem("name",JSON.stringify(a.name))),c(P(n)),localStorage.setItem("posts",JSON.stringify(n)),window.open("/#/".concat(s),"_blank")}),[t]),y=Object(n.useCallback)((function(t){var n=s.filter((function(e){return e.userId===t})),c=e.find((function(e){return e.id===t}));c&&x(c.name),i(!0),O(n)}),[s,l]),C=Object(n.useCallback)((function(){i(!1)}),[l]);return Object(u.jsxs)(u.Fragment,{children:[e.map((function(e){return Object(u.jsxs)("tr",{className:"UsersTable__row",children:[Object(u.jsx)("td",{className:"UsersTable__text",children:e.id}),Object(u.jsx)("td",{className:"UsersTable__text",children:e.name}),Object(u.jsx)("td",{className:"UsersTable__text",children:e.username}),Object(u.jsx)("td",{className:"UsersTable__text",children:Object(u.jsx)("button",{type:"button",title:"show the posts of the user",className:"UsersTable__posts-albums",onClick:function(){return _(e.id)},children:"posts"})}),Object(u.jsx)("td",{className:"UsersTable__text",children:Object(u.jsx)("button",{type:"button",title:"show the Albums of the user",className:"UsersTable__posts-albums",onClick:function(){return y(e.id)},children:"albums"})})]},e.id)})),Object(u.jsx)(q.a,{isOpen:l,onRequestClose:C,style:G,contentLabel:"Example Modal",children:Object(u.jsx)(B,{chosenAlbums:h,chosenName:p,modalIsClose:C})})]})},z=(s(72),function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),s=t[0],c=t[1],a=Object(o.c)(N),r=Object(o.b)();return Object(n.useEffect)((function(){function e(){return(e=Object(J.a)(E.a.mark((function e(){var t,s,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("users");case 3:return t=e.sent,e.next=6,L("posts");case 6:return s=e.sent,e.next=9,L("albums");case 9:n=e.sent,r(g(t)),r(S(s)),r(k(n)),c(""),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),c("Something went wrong. Reload the page, please.");case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),0===a.length?Object(u.jsx)(D,{}):Object(u.jsxs)("div",{className:"UsersInfo",children:[Object(u.jsx)("p",{className:"UsersInfo__textError",children:s}),!s&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("table",{className:"UsersInfo__table",children:[Object(u.jsx)("caption",{className:"UsersInfo__title",children:"Information about users"}),Object(u.jsx)("thead",{className:"UsersInfo__head",children:Object(u.jsxs)("tr",{className:"UsersInfo__head--row",children:[Object(u.jsx)("th",{className:"UsersInfo__head--cell",children:"ID"}),Object(u.jsx)("th",{className:"UsersInfo__head--cell",children:"Name"}),Object(u.jsx)("th",{className:"UsersInfo__head--cell",children:"Username"}),Object(u.jsx)("th",{className:"UsersInfo__head--cell",children:"Posts of the chosen user"}),Object(u.jsx)("th",{className:"UsersInfo__head--cell",children:"Albums of the chosen user"})]})}),Object(u.jsx)("tbody",{className:"UsersInfo__body",children:Object(u.jsx)(X,{})})]})})]})}),H=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(i.c,{children:[Object(u.jsxs)(i.a,{path:"/",children:[Object(u.jsx)(i.a,{index:!0,element:Object(u.jsx)(z,{})}),Object(u.jsx)(i.a,{path:":userId",element:Object(u.jsx)(T,{})})]}),Object(u.jsx)(i.a,{path:"*",element:Object(u.jsx)(j,{})})]})})},K=Object(h.a)({reducer:M});r.a.render(Object(u.jsx)(o.a,{store:K,children:Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(l.a,{children:Object(u.jsx)(H,{})})})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.609a1ffa.chunk.js.map