{"version":3,"sources":["components/NotFound/NotFound.tsx","redux/UserReducer.ts","components/Posts/Posts.tsx","api/api.ts","components/UsersTable/UsersTable.tsx","components/UsersInfo/UsersInfo.tsx","App.tsx","redux/store.ts","index.tsx"],"names":["NotFound","className","postsFromStorage","localStorage","getItem","postsToRender","JSON","parse","initialState","users","posts","albums","chosenPosts","chosenAlbums","userReducer","createSlice","name","reducers","setUsersInfo","state","action","payload","setPostsInfo","setAlbumsInfo","setChosenPosts","setChosenAlbums","selectors","actions","reducer","Posts","useSelector","navigate","useNavigate","handlerReturn","useCallback","type","title","onClick","map","post","id","body","getInfoFromServer","addUrl","a","fetch","method","response","json","catch","error","Error","result","customStyles","overlay","backgroundColor","content","top","left","right","bottom","marginRight","transform","padding","Modal","setAppElement","UsersTable","usersFromServer","gottenPosts","gottenAlbums","dispatch","useDispatch","useState","isOpen","setIsOpen","chosenName","setChosenName","handlerPosts","chosenId","filter","userId","setItem","stringify","handlerAlbums","albumsToRender","album","chosenUser","find","user","modalIsClose","username","onRequestClose","style","contentLabel","UsersList","textError","setTextError","useEffect","gottenUsers","App","path","index","element","store","configureStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.08dca60c.chunk.js","sourcesContent":["import React from 'react';\nimport './NotFound.scss';\n\nexport const NotFound: React.FC = () => {\n  return (\n    <div className=\"NotFound\">\n      This page is not found\n    </div>\n  );\n};\n","import { createSlice } from '@reduxjs/toolkit';\nimport { Album } from '../Types/AlbumType';\nimport { Post } from '../Types/PostType';\nimport { User } from '../Types/UserType';\n\nconst postsFromStorage = localStorage.getItem('posts');\nlet postsToRender = [];\n\nif (postsFromStorage !== null) {\n  postsToRender = JSON.parse(postsFromStorage);\n}\n\ninterface InitialState {\n  users: User[],\n  posts: Post[],\n  albums: Album[],\n  chosenPosts: Post[],\n  chosenAlbums: Album[],\n}\n\nconst initialState: InitialState = {\n  users: [],\n  posts: [],\n  albums: [],\n  chosenPosts: postsToRender,\n  chosenAlbums: [],\n};\n\nconst userReducer = createSlice({\n  name: 'userInfo',\n  initialState,\n  reducers: {\n    setUsersInfo: (state, action) => {\n      return {\n        ...state,\n        users: action.payload,\n      };\n    },\n    setPostsInfo: (state, action) => {\n      return {\n        ...state,\n        posts: action.payload,\n      };\n    },\n    setAlbumsInfo: (state, action) => {\n      return {\n        ...state,\n        albums: action.payload,\n      };\n    },\n    setChosenPosts: (state, action) => {\n      return {\n        ...state,\n        chosenPosts: action.payload,\n      };\n    },\n    setChosenAlbums: (state, action) => {\n      return {\n        ...state,\n        chosenAlbums: action.payload,\n      };\n    },\n  },\n});\n\nexport const selectors = {\n  getUsersInfo: (state: InitialState) => state.users,\n  getPostsInfo: (state: InitialState) => state.posts,\n  getAlbumsInfo: (state: InitialState) => state.albums,\n  getChosenPosts: (state: InitialState) => state.chosenPosts,\n  getChosenAlbums: (state: InitialState) => state.chosenAlbums,\n};\n\nexport const {\n  setUsersInfo,\n  setPostsInfo,\n  setAlbumsInfo,\n  setChosenPosts,\n  setChosenAlbums,\n} = userReducer.actions;\n\nexport const { reducer } = userReducer;\n","import React, {\n  useCallback,\n} from 'react';\nimport { useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { selectors } from '../../redux/UserReducer';\nimport './Posts.scss';\n\nexport const Posts: React.FC = () => {\n  const chosenPosts = useSelector(selectors.getChosenPosts);\n  const navigate = useNavigate();\n\n  const handlerReturn = useCallback(() => {\n    navigate('/');\n  }, []);\n\n  return (\n    <div className=\"Posts\">\n      <button\n        type=\"button\"\n        title=\"Return to the list of users\"\n        className=\"Posts__returnUsers\"\n        onClick={handlerReturn}\n      >\n        Return to the list of users\n      </button>\n      <ul className=\"Posts__list\">\n        {chosenPosts.map((post) => (\n          <li\n            className=\"Posts__item\"\n            key={post.id}\n          >\n            <p className=\"Posts__id\">\n              {`ID - ${post.id}`}\n            </p>\n            <p className=\"Posts__title\">\n              {post.title}\n            </p>\n            <p className=\"Posts__text\">\n              {post.body}\n            </p>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n","const API_URL = 'https://jsonplaceholder.typicode.com/';\n\nexport const getInfoFromServer = async <MyType>(addUrl: string): Promise<MyType> => {\n  const response = await fetch(`${API_URL}${addUrl}`, { method: 'GET' });\n\n  const result = await response.json()\n    .catch((error) => {\n      throw Error(`${error}`);\n    });\n\n  return result;\n};\n","import React, { useCallback, useState } from 'react';\nimport Modal from 'react-modal';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { selectors, setChosenPosts } from '../../redux/UserReducer';\nimport { Album } from '../../Types/AlbumType';\nimport { User } from '../../Types/UserType';\nimport './UsersTable.scss';\n\nconst customStyles = {\n  overlay: { backgroundColor: 'grey' },\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)',\n    padding: '10px 80px',\n  },\n};\n\nModal.setAppElement('#root');\n\nexport const UsersTable: React.FC = () => {\n  const usersFromServer = useSelector(selectors.getUsersInfo);\n  const gottenPosts = useSelector(selectors.getPostsInfo);\n  const gottenAlbums = useSelector(selectors.getAlbumsInfo);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const [isOpen, setIsOpen] = useState(false);\n  const [chosenAlbums, setChosenAlbums] = useState<Album[]>([]);\n  const [chosenName, setChosenName] = useState('');\n\n  const handlerPosts = useCallback((chosenId) => {\n    const chosenPosts = gottenPosts.filter((post) => post.userId === chosenId);\n\n    dispatch(setChosenPosts(chosenPosts));\n    localStorage.setItem('posts', JSON.stringify(chosenPosts));\n\n    navigate(`/${chosenId}`);\n  }, [gottenPosts]);\n\n  const handlerAlbums = useCallback((chosenId) => {\n    const albumsToRender = gottenAlbums.filter((album) => album.userId === chosenId);\n    const chosenUser = usersFromServer.find((user) => user.id === chosenId);\n\n    if (chosenUser) {\n      setChosenName(chosenUser.name);\n    }\n\n    setIsOpen(true);\n    // dispatch(setChosenAlbums(chosenAlbums));\n    localStorage.setItem('albums', JSON.stringify(albumsToRender));\n    setChosenAlbums(albumsToRender);\n  }, [gottenAlbums, isOpen]);\n\n  const modalIsClose = useCallback(() => {\n    setIsOpen(false);\n  }, [isOpen]);\n\n  return (\n    <>\n      {usersFromServer.map((user: User) => (\n        <tr\n          className=\"UsersTable__row\"\n          key={user.id}\n        >\n          <td className=\"UsersTable__text\">\n            {user.id}\n          </td>\n          <td className=\"UsersTable__text\">\n            {user.name}\n          </td>\n          <td className=\"UsersTable__text\">\n            {user.username}\n          </td>\n          <td className=\"UsersTable__text\">\n            <button\n              type=\"button\"\n              title=\"show the posts of the user\"\n              className=\"UsersTable__posts-albums\"\n              onClick={() => handlerPosts(user.id)}\n            >\n              posts\n            </button>\n          </td>\n          <td className=\"UsersTable__text\">\n            <button\n              type=\"button\"\n              title=\"show the Albums of the user\"\n              className=\"UsersTable__posts-albums\"\n              onClick={() => handlerAlbums(user.id)}\n            >\n              albums\n            </button>\n          </td>\n        </tr>\n      ))}\n      <Modal\n        isOpen={isOpen}\n        onRequestClose={modalIsClose}\n        style={customStyles}\n        contentLabel=\"Example Modal\"\n      >\n        <div className=\"Modal\">\n          <button\n            type=\"button\"\n            title=\"close the popup\"\n            className=\"Modal__button\"\n            onClick={modalIsClose}\n          >\n            X\n          </button>\n          <h1 className=\"Modal__title\">\n            {`Albums of the user ${chosenName}`}\n          </h1>\n          <ul className=\"Modal__list\">\n            {chosenAlbums.map((album) => (\n              <li\n                className=\"Modal__item\"\n                key={album.id}\n              >\n                <p className=\"Modal__album-id\">\n                  {`ID - ${album.id}`}\n                </p>\n                <p className=\"Modal__album-title\">\n                  {album.title}\n                </p>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </Modal>\n    </>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { getInfoFromServer } from '../../api/api';\nimport {\n  setAlbumsInfo,\n  setPostsInfo,\n  setUsersInfo,\n} from '../../redux/UserReducer';\nimport { Album } from '../../Types/AlbumType';\nimport { Post } from '../../Types/PostType';\nimport { User } from '../../Types/UserType';\nimport { UsersTable } from '../UsersTable';\nimport './UsersInfo.scss';\n\nexport const UsersList: React.FC = () => {\n  const [textError, setTextError] = useState('');\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    async function response() {\n      try {\n        const gottenUsers = await getInfoFromServer<User[]>('users');\n        const gottenPosts = await getInfoFromServer<Post[]>('posts');\n        const gottenAlbums = await getInfoFromServer<Album[]>('albums');\n\n        dispatch(setUsersInfo(gottenUsers));\n        dispatch(setPostsInfo(gottenPosts));\n        dispatch(setAlbumsInfo(gottenAlbums));\n        setTextError('');\n      } catch {\n        setTextError('Something went wrong. Reload the page, please.');\n      }\n    }\n\n    response();\n  }, []);\n\n  return (\n    <div className=\"UsersInfo\">\n      <p className=\"UsersInfo__textError\">\n        {textError}\n      </p>\n      {!textError && (\n        <>\n          <table className=\"UsersInfo__table\">\n            <caption className=\"UsersInfo__title\">\n              Information about users\n            </caption>\n            <thead className=\"UsersInfo__head\">\n              <tr\n                className=\"UsersInfo__head--row\"\n              >\n                <th\n                  className=\"UsersInfo__head--cell\"\n                >\n                  ID\n                </th>\n                <th\n                  className=\"UsersInfo__head--cell\"\n                >\n                  Name\n                </th>\n                <th\n                  className=\"UsersInfo__head--cell\"\n                >\n                  Surname\n                </th>\n                <th\n                  className=\"UsersInfo__head--cell\"\n                >\n                  Posts of the chosen user\n                </th>\n                <th\n                  className=\"UsersInfo__head--cell\"\n                >\n                  Albums of the chosen user\n                </th>\n              </tr>\n            </thead>\n            <tbody\n              className=\"UsersInfo__body\"\n            >\n              <UsersTable />\n            </tbody>\n          </table>\n        </>\n      )}\n    </div>\n  );\n};\n","import React from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport './App.scss';\nimport { NotFound } from './components/NotFound';\nimport { Posts } from './components/Posts';\nimport { UsersList } from './components/UsersInfo';\n\nexport const App: React.FC = () => {\n  return (\n    <div className=\"App\">\n      <Routes>\n        <Route path=\"/\">\n          <Route index element={<UsersList />} />\n          <Route path=\":userId\" element={<Posts />} />\n        </Route>\n        <Route path=\"*\" element={<NotFound />} />\n      </Routes>\n    </div>\n  );\n};\n","import { configureStore } from '@reduxjs/toolkit';\nimport { reducer } from './UserReducer';\n\nconst store = configureStore({ reducer });\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport './index.scss';\nimport { App } from './App';\nimport store from './redux/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <HashRouter>\n        <App />\n      </HashRouter>\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}